/******************************************************************************

  Copyright (C), 2017-2028, _ _ _ Co., Ltd.

*****************************************************************************
  File Name      : bll_lidar.h
  Version        : Initial Draft
  Author         : Leon
  Created        : 2018/3/23
  Last Modified  :
  Description    : bll_lidar.cpp header file
  Function List  :
  History        :
  1.Date         : 2018/3/23
    Author       : Leon
    Modification : Created file
 ******************************************************************************/
#ifndef __BLL_LIDAR_H__
#define __BLL_LIDAR_H__

/*******************************************************************************/
#ifdef __cplusplus
#if __cplusplus
extern "C"{
#endif
#endif /* __cplusplus */
/*******************************************************************************/

/******************************************************************************
 * include header files list
 ******************************************************************************/
#include <pthread.h>
#include "base_type.h"
#include <sensor_msgs/LaserScan.h>

/******************************************************************************
 * external variables
 ******************************************************************************/

/******************************************************************************
 * external function  prototypes
 ******************************************************************************/

/******************************************************************************
 * project-wide global variables
 ******************************************************************************/

/******************************************************************************
 * macros
 ******************************************************************************/

/******************************************************************************
 * constants
 ******************************************************************************/

/******************************************************************************
 * enum
 ******************************************************************************/

/******************************************************************************
 * struct
 ******************************************************************************/

/******************************************************************************
 * class prototypes
 ******************************************************************************/
class bll_lidar
{
public:
	bll_lidar();
	~bll_lidar();
private:
};

class bll_lidar
{
protected:
	bll_lidar();
	~bll_lidar();
	
public:
	static bll_lidar* get_instance(void);
	static void release_instance(void);

	double get_directional_distance(const sensor_msgs::LaserScan &scan, double direction);

private:
	bll_lidar(const bll_lidar&){};
	bll_lidar& operator=(const bll_lidar&){};
	
	static bll_lidar* p_instance_;
	static pthread_mutex_t mutex_;
};

/******************************************************************************
 * internal function prototypes
 ******************************************************************************/

/*******************************************************************************/
#ifdef __cplusplus
#if __cplusplus
}
#endif
#endif /* __cplusplus */
/*******************************************************************************/

#endif /* __BLL_LIDAR_H__ */
